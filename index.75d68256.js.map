{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,0BAAAC,OAAOC,iBAAiB,oBAAmB,WAC5B,IAAIC,EAAiB,S,IAGpC,IAAAA,ECJI,W,sBDIEC,EACOC,G,aACXC,KAAKC,GAAKC,SAASC,cAAcJ,GACjCC,KAAKI,KAAO,CAAEC,EAAG,GAAIC,EAAG,IACxBN,KAAKO,UAAY,uBACjBP,KAAKQ,cAAgB,KACrBR,KAAKS,YAAc,KACnBT,KAAKU,IAAM,EAEXV,KAAKW,M,iBAENC,IAAA,gB,MAAA,W,WACOC,EAASb,KAAKC,GAAGa,iBAAiB,qBAExCC,MAAMC,KAAKH,GAAQI,SAAQ,SAACC,EAAMC,GACjC,IAAiBC,EAAAC,EAAKjB,KAAdC,EAASe,EAATf,EAAGC,EAAMc,EAANd,EAEPD,EAAEc,KAAOb,EAAEa,IAAID,EAAMI,UAAUC,IAAIF,EAAKd,U,IAG7CiB,aAAaxB,KAAKS,aAClBT,KAAKS,YAAcgB,WAAWzB,KAAK0B,iBAAiBC,KAAK3B,MAAM,I,IAEhEY,IAAA,c,MAAA,W,WAEOgB,EAAcC,EAAAC,EAAA,CAAG9B,KAAKI,KAAKE,GAC3ByB,EAAKH,EAAWI,MAEtBhC,KAAKC,GAAGgC,UAAY,GAA2BC,OAAxBN,EAAWO,KAAK,KAAK,KAAMD,OAAHH,GAG/CK,OAAOC,KAAKrC,KAAKI,MAAMa,SAAQ,SAAAqB,G,QACxBC,EAAYlB,EAAKpB,GAAGa,iBAAiB,eAAsBoB,OAAPI,EAAO,OAEjEvB,MAAMC,KAAKuB,GAAWtB,SAAQ,SAAChB,EAAGkB,GACjClB,EAAGuC,YAAcC,EAAKrC,KAAKkC,GAAQnB,E,UAItCP,IAAA,O,MAAA,WACCZ,KAAK0C,aACL1C,KAAK2C,cACL3C,KAAK4C,gBACL5C,KAAK6C,M,IAENjC,IAAA,mB,MAAA,W,WACOC,EAASb,KAAKC,GAAGa,iBAAiB,qBAExCC,MAAMC,KAAKH,GAAQI,SAAQ,SAAAC,GAC1BA,EAAMI,UAAUwB,OAAOzB,EAAKd,U,OAG9BK,IAAA,O,MAAA,WACCY,aAAaxB,KAAKQ,eAClBR,KAAKQ,cAAgBiB,WAAWzB,KAAKW,KAAKgB,KAAK3B,MAAM,I,IAEtDY,IAAA,a,MAAA,WACO,IAAMmC,EAAU,IAAIC,KACdC,EAAO,IAAID,KAA0C,IAArCE,KAAKC,KAAKJ,EAAQK,UAAY,KAAapD,KAAKU,KAChE2C,EAAIJ,EAAKK,WACTC,EAAIN,EAAKO,aACTC,EAAIR,EAAKS,aAEf1D,KAAKI,KAAKC,EAAKwB,EAAAC,EAAA,CAAG9B,KAAKI,KAAKE,GAC5BN,KAAKI,KAAKE,EAAI,CACX+C,EAAI,GAAK,IAAMnB,OAAFmB,GAAM,GAAKnB,OAAFmB,GACtBE,EAAI,GAAK,IAAMrB,OAAFqB,GAAM,GAAKrB,OAAFqB,GACtBE,EAAI,GAAK,IAAMvB,OAAFuB,GAAM,GAAKvB,OAAFuB,IAGpBzD,KAAKI,KAAKC,EAAEsD,SAAQ3D,KAAKI,KAAKC,EAAKwB,EAAAC,EAAA,CAAG9B,KAAKI,KAAKE,G,OC1EzD,E","sources":["src/clock.js","<<jsx-config-pragma.js>>"],"sourcesContent":["window.addEventListener(\"DOMContentLoaded\",() => {\n\tconst clock = new BouncyBlockClock(\".clock\");\n});\n\nclass BouncyBlockClock {\n\tconstructor(qs) {\n\t\tthis.el = document.querySelector(qs);\n\t\tthis.time = { a: [], b: [] };\n\t\tthis.rollClass = \"clock__block--bounce\";\n\t\tthis.digitsTimeout = null;\n\t\tthis.rollTimeout = null;\n\t\tthis.mod = 0 * 60 * 1000;\n\n\t\tthis.loop();\n\t}\n\tanimateDigits() {\n\t\tconst groups = this.el.querySelectorAll(\"[data-time-group]\");\n\n\t\tArray.from(groups).forEach((group,i) => {\n\t\t\tconst { a, b } = this.time;\n\n\t\t\tif (a[i] !== b[i]) group.classList.add(this.rollClass);\n\t\t});\n\n\t\tclearTimeout(this.rollTimeout);\n\t\tthis.rollTimeout = setTimeout(this.removeAnimations.bind(this),900);\n\t}\n\tdisplayTime() {\n\t\t// screen reader time\n\t\tconst timeDigits = [...this.time.b];\n\t\tconst ap = timeDigits.pop();\n\n\t\tthis.el.ariaLabel = `${timeDigits.join(\":\")} ${ap}`;\n\n\t\t// displayed time\n\t\tObject.keys(this.time).forEach(letter => {\n\t\t\tconst letterEls = this.el.querySelectorAll(`[data-time=\"${letter}\"]`);\n\n\t\t\tArray.from(letterEls).forEach((el,i) => {\n\t\t\t\tel.textContent = this.time[letter][i];\n\t\t\t});\n\t\t});\n\t}\n\tloop() {\n\t\tthis.updateTime();\n\t\tthis.displayTime();\n\t\tthis.animateDigits();\n\t\tthis.tick();\n\t}\n\tremoveAnimations() {\n\t\tconst groups = this.el.querySelectorAll(\"[data-time-group]\");\n\t\n\t\tArray.from(groups).forEach(group => {\n\t\t\tgroup.classList.remove(this.rollClass);\n\t\t});\n\t}\n\ttick() {\n\t\tclearTimeout(this.digitsTimeout);\n\t\tthis.digitsTimeout = setTimeout(this.loop.bind(this),1e3);\t\n\t}\n\tupdateTime() {\n        const rawDate = new Date();\n        const date = new Date(Math.ceil(rawDate.getTime() / 1e3) * 1e3 + this.mod);\n        const h = date.getHours();\n        const m = date.getMinutes();\n        const s = date.getSeconds();\n      \n        this.time.a = [...this.time.b];\n        this.time.b = [\n          (h < 10 ? `0${h}` : `${h}`),\n          (m < 10 ? `0${m}` : `${m}`),\n          (s < 10 ? `0${s}` : `${s}`)\n        ];\n      \n        if (!this.time.a.length) this.time.a = [...this.time.b];\n      }\n}",null],"names":["$8MBJY","parcelRequire","window","addEventListener","$d2a29f4eed08f217$var$BouncyBlockClock","BouncyBlockClock","qs","this","el","document","querySelector","time","a","b","rollClass","digitsTimeout","rollTimeout","mod","loop","key","groups","querySelectorAll","Array","from","forEach","group","i","_time","_this","classList","add","clearTimeout","setTimeout","removeAnimations","bind","timeDigits","$parcel$interopDefault","$8nrFW","ap","pop","ariaLabel","concat","join","Object","keys","letter","letterEls","textContent","_this1","updateTime","displayTime","animateDigits","tick","remove","rawDate","Date","date","Math","ceil","getTime","h","getHours","m","getMinutes","s","getSeconds","length"],"version":3,"file":"index.75d68256.js.map"}