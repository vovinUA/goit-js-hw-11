window.addEventListener("DOMContentLoaded",(()=>{new t(".clock")}));class t{animateDigits(){const t=this.el.querySelectorAll("[data-time-group]");Array.from(t).forEach(((t,i)=>{const{a:e,b:s}=this.time;e[i]!==s[i]&&t.classList.add(this.rollClass)})),clearTimeout(this.rollTimeout),this.rollTimeout=setTimeout(this.removeAnimations.bind(this),900)}displayTime(){const t=[...this.time.b],i=t.pop();this.el.ariaLabel=`${t.join(":")} ${i}`,Object.keys(this.time).forEach((t=>{const i=this.el.querySelectorAll(`[data-time="${t}"]`);Array.from(i).forEach(((i,e)=>{i.textContent=this.time[t][e]}))}))}loop(){this.updateTime(),this.displayTime(),this.animateDigits(),this.tick()}removeAnimations(){const t=this.el.querySelectorAll("[data-time-group]");Array.from(t).forEach((t=>{t.classList.remove(this.rollClass)}))}tick(){clearTimeout(this.digitsTimeout),this.digitsTimeout=setTimeout(this.loop.bind(this),1e3)}updateTime(){const t=new Date,i=new Date(1e3*Math.ceil(t.getTime()/1e3)+this.mod),e=i.getHours(),s=i.getMinutes(),o=i.getSeconds();this.time.a=[...this.time.b],this.time.b=[e<10?`0${e}`:`${e}`,s<10?`0${s}`:`${s}`,o<10?`0${o}`:`${o}`],this.time.a.length||(this.time.a=[...this.time.b])}constructor(t){this.el=document.querySelector(t),this.time={a:[],b:[]},this.rollClass="clock__block--bounce",this.digitsTimeout=null,this.rollTimeout=null,this.mod=0,this.loop()}}
//# sourceMappingURL=index.eea55754.js.map
