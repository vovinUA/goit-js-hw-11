{"mappings":"AAAAA,OAAOC,iBAAiB,oBAAmB,KAC5B,IAAIC,EAAiB,SAAS,IAG7C,MAAMA,EAWLC,gBACC,MAAMC,EAASC,KAAKC,GAAGC,iBAAiB,qBAExCC,MAAMC,KAAKL,GAAQM,SAAQ,CAACC,EAAMC,KACjC,MAAMC,EAAEA,EAACC,EAAEA,GAAMT,KAAKU,KAElBF,EAAED,KAAOE,EAAEF,IAAID,EAAMK,UAAUC,IAAIZ,KAAKa,UAAU,IAGvDC,aAAad,KAAKe,aAClBf,KAAKe,YAAcC,WAAWhB,KAAKiB,iBAAiBC,KAAKlB,MAAM,I,CAEhEmB,cAEC,MAAMC,EAAa,IAAIpB,KAAKU,KAAKD,GAC3BY,EAAKD,EAAWE,MAEtBtB,KAAKC,GAAGsB,UAAY,GAAGH,EAAWI,KAAK,QAAQH,IAG/CI,OAAOC,KAAK1B,KAAKU,MAAML,SAAQsB,IAC9B,MAAMC,EAAY5B,KAAKC,GAAGC,iBAAiB,eAAeyB,OAE1DxB,MAAMC,KAAKwB,GAAWvB,SAAQ,CAACJ,EAAGM,KACjCN,EAAG4B,YAAc7B,KAAKU,KAAKiB,GAAQpB,EAAE,GACpC,G,CAGJuB,OACC9B,KAAK+B,aACL/B,KAAKmB,cACLnB,KAAKF,gBACLE,KAAKgC,M,CAENf,mBACC,MAAMlB,EAASC,KAAKC,GAAGC,iBAAiB,qBAExCC,MAAMC,KAAKL,GAAQM,SAAQC,IAC1BA,EAAMK,UAAUsB,OAAOjC,KAAKa,UAAU,G,CAGxCmB,OACClB,aAAad,KAAKkC,eAClBlC,KAAKkC,cAAgBlB,WAAWhB,KAAK8B,KAAKZ,KAAKlB,MAAM,I,CAEtD+B,aACO,MAAMI,EAAU,IAAIC,KACdC,EAAO,IAAID,KAA0C,IAArCE,KAAKC,KAAKJ,EAAQK,UAAY,KAAaxC,KAAKyC,KAChEC,EAAIL,EAAKM,WACTC,EAAIP,EAAKQ,aACTC,EAAIT,EAAKU,aAEf/C,KAAKU,KAAKF,EAAI,IAAIR,KAAKU,KAAKD,GAC5BT,KAAKU,KAAKD,EAAI,CACXiC,EAAI,GAAK,IAAIA,IAAM,GAAGA,IACtBE,EAAI,GAAK,IAAIA,IAAM,GAAGA,IACtBE,EAAI,GAAK,IAAIA,IAAM,GAAGA,KAGpB9C,KAAKU,KAAKF,EAAEwC,SAAQhD,KAAKU,KAAKF,EAAI,IAAIR,KAAKU,KAAKD,G,CArE5DwC,YAAYC,GACXlD,KAAKC,GAAKkD,SAASC,cAAcF,GACjClD,KAAKU,KAAO,CAAEF,EAAG,GAAIC,EAAG,IACxBT,KAAKa,UAAY,uBACjBb,KAAKkC,cAAgB,KACrBlC,KAAKe,YAAc,KACnBf,KAAKyC,IAAM,EAEXzC,KAAK8B,M","sources":["src/clock.js"],"sourcesContent":["window.addEventListener(\"DOMContentLoaded\",() => {\n\tconst clock = new BouncyBlockClock(\".clock\");\n});\n\nclass BouncyBlockClock {\n\tconstructor(qs) {\n\t\tthis.el = document.querySelector(qs);\n\t\tthis.time = { a: [], b: [] };\n\t\tthis.rollClass = \"clock__block--bounce\";\n\t\tthis.digitsTimeout = null;\n\t\tthis.rollTimeout = null;\n\t\tthis.mod = 0 * 60 * 1000;\n\n\t\tthis.loop();\n\t}\n\tanimateDigits() {\n\t\tconst groups = this.el.querySelectorAll(\"[data-time-group]\");\n\n\t\tArray.from(groups).forEach((group,i) => {\n\t\t\tconst { a, b } = this.time;\n\n\t\t\tif (a[i] !== b[i]) group.classList.add(this.rollClass);\n\t\t});\n\n\t\tclearTimeout(this.rollTimeout);\n\t\tthis.rollTimeout = setTimeout(this.removeAnimations.bind(this),900);\n\t}\n\tdisplayTime() {\n\t\t// screen reader time\n\t\tconst timeDigits = [...this.time.b];\n\t\tconst ap = timeDigits.pop();\n\n\t\tthis.el.ariaLabel = `${timeDigits.join(\":\")} ${ap}`;\n\n\t\t// displayed time\n\t\tObject.keys(this.time).forEach(letter => {\n\t\t\tconst letterEls = this.el.querySelectorAll(`[data-time=\"${letter}\"]`);\n\n\t\t\tArray.from(letterEls).forEach((el,i) => {\n\t\t\t\tel.textContent = this.time[letter][i];\n\t\t\t});\n\t\t});\n\t}\n\tloop() {\n\t\tthis.updateTime();\n\t\tthis.displayTime();\n\t\tthis.animateDigits();\n\t\tthis.tick();\n\t}\n\tremoveAnimations() {\n\t\tconst groups = this.el.querySelectorAll(\"[data-time-group]\");\n\t\n\t\tArray.from(groups).forEach(group => {\n\t\t\tgroup.classList.remove(this.rollClass);\n\t\t});\n\t}\n\ttick() {\n\t\tclearTimeout(this.digitsTimeout);\n\t\tthis.digitsTimeout = setTimeout(this.loop.bind(this),1e3);\t\n\t}\n\tupdateTime() {\n        const rawDate = new Date();\n        const date = new Date(Math.ceil(rawDate.getTime() / 1e3) * 1e3 + this.mod);\n        const h = date.getHours();\n        const m = date.getMinutes();\n        const s = date.getSeconds();\n      \n        this.time.a = [...this.time.b];\n        this.time.b = [\n          (h < 10 ? `0${h}` : `${h}`),\n          (m < 10 ? `0${m}` : `${m}`),\n          (s < 10 ? `0${s}` : `${s}`)\n        ];\n      \n        if (!this.time.a.length) this.time.a = [...this.time.b];\n      }\n}"],"names":["window","addEventListener","$66f54f4ed6213ef7$var$BouncyBlockClock","animateDigits","groups","this","el","querySelectorAll","Array","from","forEach","group","i","a","b","time","classList","add","rollClass","clearTimeout","rollTimeout","setTimeout","removeAnimations","bind","displayTime","timeDigits","ap","pop","ariaLabel","join","Object","keys","letter","letterEls","textContent","loop","updateTime","tick","remove","digitsTimeout","rawDate","Date","date","Math","ceil","getTime","mod","h","getHours","m","getMinutes","s","getSeconds","length","constructor","qs","document","querySelector"],"version":3,"file":"index.eea55754.js.map"}